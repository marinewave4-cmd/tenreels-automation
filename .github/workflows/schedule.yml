name: Daily Tenreels News Automation

on:
  schedule:
      - cron: '40 4 * * *'

          workflow_dispatch:

          jobs:
            automate-posting:
                runs-on: ubuntu-latest

                        steps:
                              - name: Checkout repository
                                      uses: actions/checkout@v3

                                                  - name: Set up Python
                                                          uses: actions/setup-python@v4
                                                                  with:
                                                                            python-version: '3.11'

                                                                                        - name: Install dependencies
                                                                                                run: |
                                                                                                          python -m pip install --upgrade pip
                                                                                                                    pip install -r requirements.txt
                                                                                                                          
                                                                                                                                - name: Run automation script
                                                                                                                                        env:
                                                                                                                                                  TENREELS_USERNAME: ${{ secrets.TENREELS_USERNAME }}
                                                                                                                                                            TENREELS_PASSWORD: ${{ secrets.TENREELS_PASSWORD }}
                                                                                                                                                                    run: |
                                                                                                                                                                              python main.py
                                                                                                                                                                                    
                                                                                                                                                                                          - name: Log completion
                                                                                                                                                                                                  if: always()
                                                                                                                                                                                                          run: |
                                                                                                                                                                                                                    echo "Automation script execution completed at $(date)"
                                                                                                                                                                                                                    
